<!-- HTMX toast notification for NFS-e operations -->
<div x-data="{ show: true }" x-show="show" x-init="setTimeout(() => show = false, 5000)"
     x-transition:enter="transition ease-out duration-300"
     x-transition:enter-start="opacity-0 translate-y-2"
     x-transition:enter-end="opacity-100 translate-y-0"
     x-transition:leave="transition ease-in duration-200"
     x-transition:leave-start="opacity-100 translate-y-0"
     x-transition:leave-end="opacity-0 translate-y-2"
     class="fixed bottom-6 right-6 z-50 max-w-sm">
    
    <div class="p-4 rounded-xl shadow-2xl border flex items-start gap-3
        {% if toast_type == 'success' %}bg-success/10 border-success/20 text-success
        {% elif toast_type == 'error' %}bg-danger/10 border-danger/20 text-danger
        {% elif toast_type == 'processing' %}bg-primary/10 border-primary/20 text-primary
        {% else %}bg-slate-100 dark:bg-surface-dark border-slate-200 dark:border-border-dark text-slate-700 dark:text-slate-200{% endif %}">
        
        <!-- Icon -->
        <span class="material-symbols-outlined text-lg mt-0.5
            {% if toast_type == 'processing' %}animate-spin{% endif %}">
            {% if toast_type == 'success' %}check_circle
            {% elif toast_type == 'error' %}error
            {% elif toast_type == 'processing' %}sync
            {% else %}info{% endif %}
        </span>

        <!-- Content -->
        <div class="flex-1 min-w-0">
            {% if toast_title %}
            <p class="text-sm font-bold">{{ toast_title }}</p>
            {% endif %}
            <p class="text-sm {% if toast_title %}mt-0.5 opacity-80{% endif %}">{{ toast_message }}</p>
        </div>

        <!-- Close -->
        <button @click="show = false" class="text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors">
            <span class="material-symbols-outlined text-sm">close</span>
        </button>
    </div>
</div>
