{% if rotinas %}
<div class="space-y-3 animate-fade-in">
    <div class="flex items-center justify-between">
        <label class="text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider">Rotinas Disponíveis</label>
        <span class="text-xs text-slate-500">{{ rotinas.count }} encontrada(s)</span>
    </div>

    <div class="bg-slate-50 dark:bg-background-dark border border-slate-200 dark:border-border-dark rounded-lg overflow-hidden max-h-[400px] overflow-y-auto custom-scrollbar">
        {% for rotina in rotinas %}
        <label class="flex items-start gap-3 p-4 border-b border-slate-200 dark:border-border-dark last:border-0 hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors cursor-pointer group">
            <div class="relative flex items-center mt-0.5">
                <input type="checkbox" 
                       name="rotinas" 
                       value="{{ rotina.pk }}" 
                       {% if rotina.pk in selected_ids %}checked{% endif %}
                       class="peer h-4 w-4 rounded border-slate-300 text-primary focus:ring-primary dark:border-slate-600 dark:bg-slate-700 dark:ring-offset-slate-800">
            </div>
            <div class="flex-1 min-w-0">
                <div class="flex items-center justify-between gap-2">
                    <p class="text-sm font-medium text-slate-900 dark:text-white group-hover:text-primary transition-colors">
                        {{ rotina.nome }}
                    </p>
                </div>
                {% if rotina.descricao %}
                <p class="text-xs text-slate-500 dark:text-slate-400 line-clamp-2 mt-0.5">
                    {{ rotina.descricao }}
                </p>
                {% endif %}
            </div>
        </label>
        {% endfor %}
    </div>
</div>
{% else %}
<div class="flex flex-col items-center justify-center p-8 text-slate-500 border border-dashed border-slate-300 dark:border-slate-700 rounded-lg animate-fade-in">
    <span class="material-symbols-outlined text-4xl opacity-50 mb-2">playlist_remove</span>
    <p class="text-sm font-medium">Nenhuma rotina encontrada</p>
    <p class="text-xs text-center mt-1">Este sistema não possui rotinas cadastradas ou ativas.</p>
</div>
{% endif %}
